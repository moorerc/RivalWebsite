<html ng-app="myApp">

  <head>
  	<title>Rival Ultimate</title>

  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">

  	<link href='https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
  	<link href='https://fonts.googleapis.com/css?family=Michroma' rel='stylesheet' type='text/css'>

  	<link rel="stylesheet" type="text/css" href="../style.css">

  	<link rel="icon" type="image/png" href="../img/icons/RivalFavicon_64Circle.png">

    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="stats.js"></script>

  	<!-- Latest compiled and minified CSS -->
  	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  	<!-- jQuery library -->
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

  	<!-- Latest compiled JavaScript -->
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <!-- Data Tables -->
    <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <link href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css" rel="stylesheet" />


  </head>


  <body class="stats" ng-controller="MainCtrl">
      <div> {{selectedTourny.name}} Stats
          <select ng-options="tournyName.name for tournyName in tournyNames track by tournyName.id" ng-model="selectedTourny" ng-change="getTournyStats()"></select>
          Game:
          <select ng-options="game.name for game in selectedTourny.games track by game.id" ng-model="selectedGame" ng-change="getGameStats()"></select>
      </div>
      <div style="height:100%; padding:20px;">
        <table id="statTable" class="table table-hover table-condensed">
          <thead>
            <tr>
              <td>Name</td>
              <td>Stat Totals</td>
              <!--<td>Points Played</td>-->
              <td>Turns</td>
              <td>Scores</td>
              <td>Assists</td>
              <td>Ds</td>
              <td>Touches</td>
            </tr>
          </thead>
          <tbody>
              <tr ng-repeat="player in players" ng-model="selectedGameStats">
                  <td>{{player.name}}</td>
                  <td>{{getPlayerStatsForGame(selectedGameStats, player.id, "pointsPlayed")}}</td>
                  <!--<td>{{getPlayerPointTotalFromSubSheets(player.id)}}-->
                  <td>{{getPlayerStatsForGame(selectedGameStats, player.id, "turns")}}</td>
                  <td>{{getPlayerStatsForGame(selectedGameStats, player.id, "scores")}}</td>
                  <td>{{getPlayerStatsForGame(selectedGameStats, player.id, "assists")}}</td>
                  <td>{{getPlayerStatsForGame(selectedGameStats, player.id, "ds")}}</td>
                  <td>{{getPlayerStatsForGame(selectedGameStats, player.id, "touches")}}</td>
              </tr>
            </tbody>
          <!-- <tbody>
              <tr ng-repeat="player in players">
                  <td>{{player.name}}</td>
                  <td>{{getPlayerStatsTotals(player.id, "pointsPlayed")}}</td>
                  <td>{{getPlayerPointTotalFromSubSheets(player.id)}}
                  <td>{{getPlayerStatsTotals(player.id, "turns")}}</td>
                  <td>{{getPlayerStatsTotals(player.id, "scores")}}</td>
                  <td>{{getPlayerStatsTotals(player.id, "assists")}}</td>
                  <td>{{getPlayerStatsTotals(player.id, "ds")}}</td>
                  <td>{{getPlayerStatsTotals(player.id, "touches")}}</td>
              </tr>
            </tbody> -->
        </table>
      </div>
    <div style="height:100%; padding:20px;">
        <!--<table class="table table-hover table-condensed" style="width:45%">
            <tr >
                <td>NAME</td>
                <td>Points Played</td>
                <td>PP Subsheet</td>
                <td>Turns</td>
                <td>Scores</td>
                <td>Assists</td>
                <td>Ds</td>
                <td>Touches</td>
                <td>Turns/Touches</td>
                <td>Turns/Points</td>
            </tr>
            <tr ng-repeat="player in players">
                <td>{{player.name}}</td>
                <td>{{getPlayerStatsTotals(player.id, "pointsPlayed")}}</td>
                <td>{{getPlayerPointTotalFromSubSheets(player.id)}}</td>
                <td>{{getPlayerStatsTotals(player.id, "turns")}}</td>
                <td>{{getPlayerStatsTotals(player.id, "scores")}}</td>
                <td>{{getPlayerStatsTotals(player.id, "assists")}}</td>
                <td>{{getPlayerStatsTotals(player.id, "ds")}}</td>
                <td>{{getPlayerStatsTotals(player.id, "touches")}}</td>
                <td>{{getPlayerStatsTotals(player.id, "turns")/getPlayerStatsTotals(player.id, "touches")}}</td>
                <td>{{getPlayerStatsTotals(player.id, "turns")/getPlayerStatsTotals(player.id, "pointsPlayed")}}</td>
            </tr>
        </table>-->
        <!--<table class="table table-hover table-condensed" style="width:45%">
            <tr>
                <td>NAME</td>
                <td ng-repeat="point in generateStatSheet()">{{$index}}</td>
            </tr>
            <tr ng-repeat="player in players">
                <td>{{player.name}}</td>
                <td ng-repeat="point in generateStatSheet()">x</td>
            </tr>
        </table>-->
        <!--{{generateStatSheet()}}-->

        <!--{{selectedSubSheet}}-->
        {{totalPointsInSubsheet()}}

    </div>
  </body>
</html>
